<!DOCTYPE html>
<html>

<head>
    <title>Page Title</title>
</head>

<body>

    <h1>This is a Heading</h1>
    <p>This is a paragraph.</p>

    <app id="iiuc"></app>

</body>

<script>    
    function loadData() {
        fetch("http://localhost:5000/WeatherForecast")
            .then(response => response.json())
            .then(data => 
            {
                console.log(data);
                GenerateWeather(data);
            });
    }

    function GenerateWeather(data) {
        var printList = "<ul>";

        data.forEach(d => {
            printList += weather(d.date, d.temperatureC);
        });

        printList += "</ul>";

        document.getElementById('iiuc').innerHTML = printList;
    }

    function weather(date, temperature) {
        return "<li>Date: " + date + " And Temperature: " + temperature + "</li>";
    }

    loadData();
    
</script>

</html>